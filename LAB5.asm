.MODEL	SMALL
.STACK	100H
.DATA
CR	EQU	0DH
LF	EQU	0AH
CLASS	DB	'MARY ALLEN  ',67,45,98,33
	DB	'SCOTT BAYLIS',70,56,87,44
	DB	'GEORGE FRANK',82,72,89,40
	DB	'SAM WONG    ',78,76,92,60
AVG	DB	' AVERAGE IS $'
.CODE
MAIN	PROC
	MOV	AX,@DATA
	MOV	DS,AX

	XOR	AX,AX
	XOR	BX,BX
	LEA	SI,CLASS
	MOV	CX,0

PERSON:
	XOR	AX,AX
	CMP	CX,4
	JE	EXIT
	CMP	BX,11
	JLE	NAME_
	CMP	BX,12
	JE	CLEAR

NAME_:
	MOV	AH,2
	MOV	DL,[SI]
	INT	21H
	ADD	SI,1
	INC	BX
	JMP	PERSON

AVG_:
	CWD
	DIV	BX
	PUSH	AX
	
	MOV	AH,9
	LEA	DX,AVG
	INT	21H
	POP	AX
	CALL	OUTDEC
	MOV	AH,2
	MOV	DL,CR
	INT	21H
	MOV	AH,2
	MOV	DL,LF
	INT	21H
	INC	CX
	XOR	BX,BX
	JMP	PERSON

CLEAR:
	XOR	BX,BX
	
SCORE_: 
	XOR	DX,DX
	MOV	DL,[SI]
	ADD	AX,DX
	INC	SI
	INC	BX
	CMP	BX,4
	JE	AVG_
	JMP	SCORE_

;return DOS
EXIT:
	MOV	AH,4CH
	INT	21H
MAIN	ENDP
INCLUDE OUTDEC.ASM
	END MAIN
